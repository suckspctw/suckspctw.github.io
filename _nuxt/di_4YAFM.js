import{r as S,t as y,c as f,a as j,w as N,n as d}from"./ySFljfVL.js";var g=function(){return typeof document<"u"&&typeof window<"u"},D=function(e,a){return new Promise(function(n,i){var u=document.head||document.getElementsByTagName("head")[0],t=document.createElement("script");if(t.async=!0,t.src=e,t.charset="utf-8",a){var s=document.createElement("link");s.href=a,s.rel="preconnect",u.appendChild(s)}u.appendChild(t),t.onload=n,t.onerror=i})},O=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.keys(a).forEach(function(n){e[n]=a[n]})},R=S({property:null,isEnabled:!0,disableScriptLoader:!1,useDebugger:!1,globalObjectName:"gtag",dataLayerName:"dataLayer",resourceURL:"https://www.googletagmanager.com/gtag/js",preconnectOrigin:"https://www.googletagmanager.com",customResource:null,appName:null,appId:null,appVersion:null}),l=function(){return y(R)},A=f(function(){var r=l(),e=r.property;if(e.value)return Array.isArray(e.value)?e.value.find(function(a){return a.default===!0})||e.value[0]:e.value}),I=f(function(){var r=l(),e=r.property;return!!(e.value&&e.value.id!==null)}),v=f(function(){var r=l(),e=r.property;return Array.isArray(e.value)?e.value:[e.value]}),L=f(function(){var r=l(),e=r.isEnabled,a=A.value;return!!(a&&a.id&&e.value)}),p=function(){var r;if(g()){for(var e=l(),a=e.globalObjectName,n=e.useDebugger,i=arguments.length,u=new Array(i),t=0;t<i;t++)u[t]=arguments[t];n.value&&console.warn("[vue-gtag] Debugger:",u),(r=window)[a.value].apply(r,u)}},m=function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];v.value.forEach(function(n){p.apply(void 0,["config",n.id].concat(e))})},_=function(r){m({custom_map:r})},U=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;g()&&v.value.forEach(function(e){window["ga-disable-".concat(e.id)]=r})},c=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=Object.assign({},e);!a.send_to&&v.value.length>1&&(a.send_to=v.value.map(function(n){return n.id})),p("event",r,a)},V=function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];c.apply(void 0,["exception"].concat(e))},q=function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];m.apply(void 0,["linker"].concat(e))},E=function(r){var e={};typeof r=="string"?e={page_path:r,page_location:window.location.href}:e=r,typeof e.send_page_view>"u"&&(e.send_page_view=!0),c("page_view",e)},C=function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];c.apply(void 0,["purchase"].concat(e))},G=function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];c.apply(void 0,["refund"].concat(e))},P=function(){for(var r=l(),e=r.appName,a=r.appId,n=r.appVersion,i=arguments.length,u=new Array(i),t=0;t<i;t++)u[t]=arguments[t];var s=u[0],o={};typeof s=="string"?o={screen_name:s}:o=s,o.app_name==null&&e.value!=null&&(o.app_name=e.value),o.app_id==null&&a.value!=null&&(o.app_id=a.value),o.app_version==null&&n.value!=null&&(o.app_version=n.value),c("screen_view",o)},M=function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];p.apply(void 0,["set"].concat(e))},W=function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];c.apply(void 0,["timing_complete"].concat(e))},B=Object.freeze({__proto__:null,config:m,customMap:_,disable:U,event:c,exception:V,linker:q,pageview:E,purchase:C,query:p,refund:G,screenview:P,set:M,time:W}),w=j(!1),h=j(!1),z=function(){var e=l(),a=e.disableScriptLoader,n=e.preconnectOrigin,i=e.resourceURL,u=e.dataLayerName;if(!(!g()||!I.value||h.value)){if(h.value=!0,v.value.forEach(function(s){var o=Object.assign({send_page_view:!1},s.params);p("config",s.id,o)}),a.value){w.value=!0;return}var t="".concat(i.value,"?id=").concat(A.value.id,"&l=").concat(u.value);D(t,n.value).then(function(){w.value=!0})}},$=function(){N(function(){return L.value},function(e){return e&&z()},{immediate:!0})},F=function(){if(g()){var r=l(),e=r.globalObjectName,a=r.dataLayerName;window[e.value]==null&&(window[a.value]=window[a.value]||[],window[e.value]=function(){window[a.value].push(arguments)}),window[e.value]("js",new Date)}},K=function(){return B},x=S({template:null,useScreenview:!1,skipSamePath:!0}),T=function(){return y(x)},H=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=T(),i=n.template,u=n.useScreenview,t=i.value?i.value(e,a):null;return t||(u.value?{screen_name:e.name}:{page_title:e.name,page_path:e.path,page_location:window.location.href})},b=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=T(),i=n.useScreenview,u=n.skipSamePath;if(!(u.value&&e.path===a.path)){var t=H(e,a);i.value?P(t):E(t)}},Q=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};O(x,a),N(function(){return L.value},function(n){n&&e.isReady().then(function(){d(function(){b(e.currentRoute.value)}),e.afterEach(function(i,u){d(function(){b(i,u)})})})},{immediate:!0})},X={install:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};O(R,a),F(),$(),e.config.globalProperties.$gtag=B}};export{m as config,_ as customMap,X as default,U as disable,c as event,V as exception,w as isReady,L as isTracking,q as linker,E as pageview,C as purchase,p as query,G as refund,P as screenview,M as set,W as time,Q as trackRouter,K as useGtag,l as useState};
